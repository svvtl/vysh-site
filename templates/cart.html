{% extends "base.html" %}

{% block title %}–ö–æ—à–∏–∫{% endblock %}

{% block content %}
<div class="cart-page">

  <h1>–ö–æ—à–∏–∫</h1>

  {% if cart_items %}
    <div class="cart-list">
      {% for row in cart_items %}
        <div class="cart-item">

          <img
            src="{{ url_for('static', filename='images/' + row.item.image) }}"
            alt="{{ row.item.name }}"
          >

          <div class="cart-info">
            <div class="cart-name">{{ row.item.name }}</div>

            <div class="cart-qty">
              <form action="{{ url_for('decrease', item_id=row.item.id) }}" method="post">
                <button class="qty-btn">‚àí</button>
              </form>

              <span class="qty-number">{{ row.qty }}</span>

              <form action="{{ url_for('add_to_cart', item_id=row.item.id) }}" method="post">
                <button class="qty-btn">+</button>
              </form>
            </div>
          </div>

          <div class="cart-price">
            {{ row.total }} ‚Ç¥
            <form
              action="{{ url_for('remove_from_cart', item_id=row.item.id) }}"
              method="post"
              class="cart-remove"
            >
              <button>‚úï</button>
            </form>
          </div>

        </div>
      {% endfor %}
    </div>

    <!-- üî• –ò–¢–û–ì –ü–û–î –¢–û–í–ê–†–ê–ú–ò –ü–û –¶–ï–ù–¢–†–£ -->
    <div class="cart-summary-center">
      <p class="cart-sum">–†–∞–∑–æ–º: <strong>{{ total }} ‚Ç¥</strong></p>

      <a href="/checkout" class="checkout-btn">
        –û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
      </a>

      <a href="/products" class="cart-back">
        ‚Üê –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –ø–æ–∫—É–ø–∫–∏
      </a>
    </div>

 {% else %}

<div class="cart-empty">
  <p class="cart-empty-title">–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</p>
  <p class="cart-empty-text">
    –¢—É—Ç –∑‚Äô—è–≤–ª—è—Ç—å—Å—è —Ç–æ–≤–∞—Ä–∏, —è–∫—ñ –≤–∏ –¥–æ–¥–∞—Å—Ç–µ
  </p>

  <a href="/products" class="cart-empty-btn">
    –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É
  </a>
</div>

{% endif %}
</div>
{% endblock %}
